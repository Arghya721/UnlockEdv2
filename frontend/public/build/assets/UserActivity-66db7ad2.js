import{r as c,u as p,j as e}from"./app-6ded1f35.js";import{P as f}from"./PageNav-e43fddb7.js";import{u as g,P as N}from"./useFetch-6d64a171.js";import{A as w}from"./AuthenticatedLayout-c783bf9c.js";import{C as y,a as S}from"./ChevronUpIcon-20eadce7.js";import"./Brand-d3ec3ec6.js";function P({auth:l}){const[n,x]=c.useState(""),u=g(n,300),[h,m]=c.useState(1),[o,i]=c.useState("desc"),{data:t,error:r,isLoading:a}=p(`/api/v1/user-activities?search=${u}&page=${h}&order=${o}`),d=t;return e.jsxs(w,{user:l.user,title:"User Activity",children:[e.jsx(f,{user:l.user,path:["Settings","User Activity"]}),e.jsxs("div",{className:"flex flex-col space-y-6 overflow-x-auto rounded-lg p-4",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full max-w-xs input-sm",value:n,onChange:s=>x(s.target.value)})}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-gray-600",children:[e.jsxs("th",{className:"flex flex-row",children:[e.jsx("span",{children:"User"}),o=="asc"?e.jsx(y,{className:"h-4 text-accent cursor-pointer",onClick:()=>i("desc")}):e.jsx(S,{className:"h-4 text-accent cursor-pointer",onClick:()=>i("asc")})]}),e.jsx("th",{children:"Browser"}),e.jsx("th",{children:"URL"}),e.jsx("th",{children:"Time"})]})}),e.jsx("tbody",{children:!a&&!r&&d.data.map(s=>{const j=new Date(s.created_at);return e.jsxs("tr",{className:"border-gray-600",children:[e.jsx("td",{children:s.user_name_first+" "+s.user_name_last}),e.jsx("td",{children:s.browser_name}),e.jsx("td",{children:e.jsx("a",{className:"flex justify-start cursor-pointer",href:s.clicked_url,children:e.jsx("span",{children:s.clicked_url})})}),e.jsx("td",{children:j.toLocaleString("en-US")})]},s.id)})})]}),!a&&!r&&t.data.length!=0&&e.jsx(N,{meta:d.meta,setPage:m}),r&&e.jsx("span",{className:"text-center text-error",children:"Failed to load users."}),!a&&!r&&t.data.length==0&&e.jsx("span",{className:"text-center text-warning",children:"No results"})]})]})}export{P as default};
