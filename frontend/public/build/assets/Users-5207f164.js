import{r as _,R as z,j as i,b as ss,u as vs}from"./app-6ded1f35.js";import{u as bs,P as ps}from"./useFetch-6d64a171.js";import{A as js}from"./AuthenticatedLayout-c783bf9c.js";import{P as Ns}from"./PageNav-e43fddb7.js";import{C as ws,a as _s}from"./ChevronUpIcon-20eadce7.js";import{T as Vs,C as ge}from"./CheckCircleIcon-6edce93d.js";import"./Brand-d3ec3ec6.js";function As({title:e,titleId:r,...s},l){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},s),e?_.createElement("title",{id:r},e):null,_.createElement("path",{fillRule:"evenodd",d:"M12 5.25c1.213 0 2.415.046 3.605.135a3.256 3.256 0 013.01 3.01c.044.583.077 1.17.1 1.759L17.03 8.47a.75.75 0 10-1.06 1.06l3 3a.75.75 0 001.06 0l3-3a.75.75 0 00-1.06-1.06l-1.752 1.751c-.023-.65-.06-1.296-.108-1.939a4.756 4.756 0 00-4.392-4.392 49.422 49.422 0 00-7.436 0A4.756 4.756 0 003.89 8.282c-.017.224-.033.447-.046.672a.75.75 0 101.497.092c.013-.217.028-.434.044-.651a3.256 3.256 0 013.01-3.01c1.19-.09 2.392-.135 3.605-.135zm-6.97 6.22a.75.75 0 00-1.06 0l-3 3a.75.75 0 101.06 1.06l1.752-1.751c.023.65.06 1.296.108 1.939a4.756 4.756 0 004.392 4.392 49.413 49.413 0 007.436 0 4.756 4.756 0 004.392-4.392c.017-.223.032-.447.046-.672a.75.75 0 00-1.497-.092c-.013.217-.028.434-.044.651a3.256 3.256 0 01-3.01 3.01 47.953 47.953 0 01-7.21 0 3.256 3.256 0 01-3.01-3.01 47.759 47.759 0 01-.1-1.759L6.97 15.53a.75.75 0 001.06-1.06l-3-3z",clipRule:"evenodd"}))}const Fs=_.forwardRef(As),Ss=Fs;function Ds({title:e,titleId:r,...s},l){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},s),e?_.createElement("title",{id:r},e):null,_.createElement("path",{fillRule:"evenodd",d:"M8.25 3.75H19.5a.75.75 0 01.75.75v11.25a.75.75 0 01-1.5 0V6.31L5.03 20.03a.75.75 0 01-1.06-1.06L17.69 5.25H8.25a.75.75 0 010-1.5z",clipRule:"evenodd"}))}const Es=_.forwardRef(Ds),ks=Es;function Us({title:e,titleId:r,...s},l){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},s),e?_.createElement("title",{id:r},e):null,_.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"}))}const Rs=_.forwardRef(Us),Ls=Rs;function Cs({title:e,titleId:r,...s},l){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":r},s),e?_.createElement("title",{id:r},e):null,_.createElement("path",{d:"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"}))}const Ms=_.forwardRef(Cs),Ts=Ms;var he=e=>e.type==="checkbox",le=e=>e instanceof Date,O=e=>e==null;const ts=e=>typeof e=="object";var F=e=>!O(e)&&!Array.isArray(e)&&ts(e)&&!le(e),Os=e=>F(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Ps=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qs=(e,r)=>e.has(Ps(r)),Is=e=>{const r=e.constructor&&e.constructor.prototype;return F(r)&&r.hasOwnProperty("isPrototypeOf")},Ue=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function H(e){let r;const s=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ue&&(e instanceof Blob||e instanceof FileList))&&(s||F(e)))if(r=s?[]:{},!s&&!Is(e))r=e;else for(const l in e)e.hasOwnProperty(l)&&(r[l]=H(e[l]));else return e;return r}var me=e=>Array.isArray(e)?e.filter(Boolean):[],A=e=>e===void 0,m=(e,r,s)=>{if(!r||!F(e))return s;const l=me(r.split(/[,[\].]+?/)).reduce((o,n)=>O(o)?o:o[n],e);return A(l)||l===e?A(e[r])?s:e[r]:l},Y=e=>typeof e=="boolean";const We={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var Bs=(e,r,s,l=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const h=n;return r._proxyFormState[h]!==K.all&&(r._proxyFormState[h]=!l||K.all),s&&(s[h]=!0),e[h]}});return o},W=e=>F(e)&&!Object.keys(e).length,$s=(e,r,s,l)=>{s(e);const{name:o,...n}=e;return W(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(h=>r[h]===(!l||K.all))},Se=e=>Array.isArray(e)?e:[e];function Hs(e){const r=z.useRef(e);r.current=e,z.useEffect(()=>{const s=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var G=e=>typeof e=="string",zs=(e,r,s,l,o)=>G(e)?(l&&r.watch.add(e),m(s,e,o)):Array.isArray(e)?e.map(n=>(l&&r.watch.add(n),m(s,n))):(l&&(r.watchAll=!0),s),Re=e=>/^\w*$/.test(e),rs=e=>me(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,r,s)=>{let l=-1;const o=Re(r)?[r]:rs(r),n=o.length,h=n-1;for(;++l<n;){const y=o[l];let S=s;if(l!==h){const k=e[y];S=F(k)||Array.isArray(k)?k:isNaN(+o[l+1])?{}:[]}e[y]=S,e=e[y]}return e},Ws=(e,r,s,l,o)=>r?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:o||!0}}:{},Qe=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),Ke=(e,r,s)=>!s&&(r.watchAll||r.watch.has(e)||[...r.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const fe=(e,r,s,l)=>{for(const o of s||Object.keys(e)){const n=m(e,o);if(n){const{_f:h,...y}=n;if(h){if(h.refs&&h.refs[0]&&r(h.refs[0],o)&&!l)break;if(h.ref&&r(h.ref,h.name)&&!l)break;fe(y,r)}else F(y)&&fe(y,r)}}};var Qs=(e,r,s)=>{const l=me(m(e,s));return V(l,"root",r[s]),V(e,s,l),e},Le=e=>e.type==="file",Z=e=>typeof e=="function",pe=e=>{if(!Ue)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},be=e=>G(e),Ce=e=>e.type==="radio",je=e=>e instanceof RegExp;const Ge={value:!1,isValid:!1},Je={value:!0,isValid:!0};var as=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!A(e[0].attributes.value)?A(e[0].value)||e[0].value===""?Je:{value:e[0].value,isValid:!0}:Je:Ge}return Ge};const Xe={isValid:!1,value:null};var is=e=>Array.isArray(e)?e.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,Xe):Xe;function Ye(e,r,s="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||Y(e)&&!e)return{type:s,message:be(e)?e:"",ref:r}}var ie=e=>F(e)&&!je(e)?e:{value:e,message:""},Ze=async(e,r,s,l,o)=>{const{ref:n,refs:h,required:y,maxLength:S,minLength:k,min:N,max:g,pattern:P,validate:M,name:C,valueAsNumber:ne,mount:q,disabled:J}=e._f,b=m(r,C);if(!q||J)return{};const w=h?h[0]:n,U=v=>{l&&w.reportValidity&&(w.setCustomValidity(Y(v)?"":v||""),w.reportValidity())},D={},te=Ce(n),xe=he(n),ee=te||xe,re=(ne||Le(n))&&A(n.value)&&A(b)||pe(n)&&n.value===""||b===""||Array.isArray(b)&&!b.length,B=Ws.bind(null,C,s,D),ye=(v,p,E,T=X.maxLength,Q=X.minLength)=>{const $=v?p:E;D[C]={type:v?T:Q,message:$,ref:n,...B(v?T:Q,$)}};if(o?!Array.isArray(b)||!b.length:y&&(!ee&&(re||O(b))||Y(b)&&!b||xe&&!as(h).isValid||te&&!is(h).isValid)){const{value:v,message:p}=be(y)?{value:!!y,message:y}:ie(y);if(v&&(D[C]={type:X.required,message:p,ref:w,...B(X.required,p)},!s))return U(p),D}if(!re&&(!O(N)||!O(g))){let v,p;const E=ie(g),T=ie(N);if(!O(b)&&!isNaN(b)){const Q=n.valueAsNumber||b&&+b;O(E.value)||(v=Q>E.value),O(T.value)||(p=Q<T.value)}else{const Q=n.valueAsDate||new Date(b),$=ue=>new Date(new Date().toDateString()+" "+ue),ce=n.type=="time",oe=n.type=="week";G(E.value)&&b&&(v=ce?$(b)>$(E.value):oe?b>E.value:Q>new Date(E.value)),G(T.value)&&b&&(p=ce?$(b)<$(T.value):oe?b<T.value:Q<new Date(T.value))}if((v||p)&&(ye(!!v,E.message,T.message,X.max,X.min),!s))return U(D[C].message),D}if((S||k)&&!re&&(G(b)||o&&Array.isArray(b))){const v=ie(S),p=ie(k),E=!O(v.value)&&b.length>+v.value,T=!O(p.value)&&b.length<+p.value;if((E||T)&&(ye(E,v.message,p.message),!s))return U(D[C].message),D}if(P&&!re&&G(b)){const{value:v,message:p}=ie(P);if(je(v)&&!b.match(v)&&(D[C]={type:X.pattern,message:p,ref:n,...B(X.pattern,p)},!s))return U(p),D}if(M){if(Z(M)){const v=await M(b,r),p=Ye(v,w);if(p&&(D[C]={...p,...B(X.validate,p.message)},!s))return U(p.message),D}else if(F(M)){let v={};for(const p in M){if(!W(v)&&!s)break;const E=Ye(await M[p](b,r),w,p);E&&(v={...E,...B(p,E.message)},U(E.message),s&&(D[C]=v))}if(!W(v)&&(D[C]={ref:w,...v},!s))return D}}return U(!0),D};function Ks(e,r){const s=r.slice(0,-1).length;let l=0;for(;l<s;)e=A(e)?l++:e[r[l++]];return e}function Gs(e){for(const r in e)if(e.hasOwnProperty(r)&&!A(e[r]))return!1;return!0}function L(e,r){const s=Array.isArray(r)?r:Re(r)?[r]:rs(r),l=s.length===1?e:Ks(e,s),o=s.length-1,n=s[o];return l&&delete l[n],o!==0&&(F(l)&&W(l)||Array.isArray(l)&&Gs(l))&&L(e,s.slice(0,-1)),e}var De=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Ne=e=>O(e)||!ts(e);function se(e,r){if(Ne(e)||Ne(r))return e===r;if(le(e)&&le(r))return e.getTime()===r.getTime();const s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(const o of s){const n=e[o];if(!l.includes(o))return!1;if(o!=="ref"){const h=r[o];if(le(n)&&le(h)||F(n)&&F(h)||Array.isArray(n)&&Array.isArray(h)?!se(n,h):n!==h)return!1}}return!0}var ls=e=>e.type==="select-multiple",Js=e=>Ce(e)||he(e),Ee=e=>pe(e)&&e.isConnected,Xs=e=>F(e)&&Object.values(e).some(r=>r),ns=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function we(e,r={}){const s=Array.isArray(e);if(F(e)||s)for(const l in e)Array.isArray(e[l])||F(e[l])&&!ns(e[l])?(r[l]=Array.isArray(e[l])?[]:{},we(e[l],r[l])):O(e[l])||(r[l]=!0);return r}function cs(e,r,s){const l=Array.isArray(e);if(F(e)||l)for(const o in e)Array.isArray(e[o])||F(e[o])&&!ns(e[o])?A(r)||Ne(s[o])?s[o]=Array.isArray(e[o])?we(e[o],[]):{...we(e[o])}:cs(e[o],O(r)?{}:r[o],s[o]):s[o]=!se(e[o],r[o]);return s}var ve=(e,r)=>cs(e,r,we(r)),os=(e,{valueAsNumber:r,valueAsDate:s,setValueAs:l})=>A(e)?e:r?e===""?NaN:e&&+e:s&&G(e)?new Date(e):l?l(e):e;function ke(e){const r=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):r.disabled))return Le(r)?r.files:Ce(r)?is(e.refs).value:ls(r)?[...r.selectedOptions].map(({value:s})=>s):he(r)?as(e.refs).value:os(A(r.value)?e.ref.value:r.value,e)}var Ys=(e,r,s,l)=>{const o={};for(const n of e){const h=m(r,n);h&&V(o,n,h._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:l}},de=e=>A(e)?e:je(e)?e.source:F(e)?je(e.value)?e.value.source:e.value:e,Zs=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function es(e,r,s){const l=m(e,s);if(l||Re(s))return{error:l,name:s};const o=s.split(".");for(;o.length;){const n=o.join("."),h=m(r,n),y=m(e,n);if(h&&!Array.isArray(h)&&s!==n)return{name:s};if(y&&y.type)return{name:n,error:y};o.pop()}return{name:s}}var et=(e,r,s,l,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(r||e):(s?l.isOnBlur:o.isOnBlur)?!e:(s?l.isOnChange:o.isOnChange)?e:!0,st=(e,r)=>!me(m(e,r)).length&&L(e,r);const tt={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function rt(e={}){let r={...tt,...e},s={submitCount:0,isDirty:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},l={},o=F(r.defaultValues)||F(r.values)?H(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:H(o),h={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},S,k=0;const N={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:De(),array:De(),state:De()},P=Qe(r.mode),M=Qe(r.reValidateMode),C=r.criteriaMode===K.all,ne=t=>a=>{clearTimeout(k),k=setTimeout(t,a)},q=async t=>{if(N.isValid||t){const a=r.resolver?W((await ee()).errors):await B(l,!0);a!==s.isValid&&g.state.next({isValid:a})}},J=(t,a)=>{(N.isValidating||N.validatingFields)&&(a.forEach(c=>{V(s.validatingFields,c,t)}),s.isValidating=Xs(s.validatingFields),g.state.next({validatingFields:s.validatingFields,isValidating:s.isValidating}))},b=(t,a=[],c,f,d=!0,u=!0)=>{if(f&&c){if(h.action=!0,u&&Array.isArray(m(l,t))){const x=c(m(l,t),f.argA,f.argB);d&&V(l,t,x)}if(u&&Array.isArray(m(s.errors,t))){const x=c(m(s.errors,t),f.argA,f.argB);d&&V(s.errors,t,x),st(s.errors,t)}if(N.touchedFields&&u&&Array.isArray(m(s.touchedFields,t))){const x=c(m(s.touchedFields,t),f.argA,f.argB);d&&V(s.touchedFields,t,x)}N.dirtyFields&&(s.dirtyFields=ve(o,n)),g.state.next({name:t,isDirty:v(t,a),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else V(n,t,a)},w=(t,a)=>{V(s.errors,t,a),g.state.next({errors:s.errors})},U=t=>{s.errors=t,g.state.next({errors:s.errors,isValid:!1})},D=(t,a,c,f)=>{const d=m(l,t);if(d){const u=m(n,t,A(c)?m(o,t):c);A(u)||f&&f.defaultChecked||a?V(n,t,a?u:ke(d._f)):T(t,u),h.mount&&q()}},te=(t,a,c,f,d)=>{let u=!1,x=!1;const j={name:t},R=!!(m(l,t)&&m(l,t)._f.disabled);if(!c||f){N.isDirty&&(x=s.isDirty,s.isDirty=j.isDirty=v(),u=x!==j.isDirty);const I=R||se(m(o,t),a);x=!!(!R&&m(s.dirtyFields,t)),I||R?L(s.dirtyFields,t):V(s.dirtyFields,t,!0),j.dirtyFields=s.dirtyFields,u=u||N.dirtyFields&&x!==!I}if(c){const I=m(s.touchedFields,t);I||(V(s.touchedFields,t,c),j.touchedFields=s.touchedFields,u=u||N.touchedFields&&I!==c)}return u&&d&&g.state.next(j),u?j:{}},xe=(t,a,c,f)=>{const d=m(s.errors,t),u=N.isValid&&Y(a)&&s.isValid!==a;if(e.delayError&&c?(S=ne(()=>w(t,c)),S(e.delayError)):(clearTimeout(k),S=null,c?V(s.errors,t,c):L(s.errors,t)),(c?!se(d,c):d)||!W(f)||u){const x={...f,...u&&Y(a)?{isValid:a}:{},errors:s.errors,name:t};s={...s,...x},g.state.next(x)}J(!1,Object.keys(s.validatingFields).filter(x=>x===t))},ee=async t=>r.resolver(n,r.context,Ys(t||y.mount,l,r.criteriaMode,r.shouldUseNativeValidation)),re=async t=>{const{errors:a}=await ee(t);if(t)for(const c of t){const f=m(a,c);f?V(s.errors,c,f):L(s.errors,c)}else s.errors=a;return a},B=async(t,a,c={valid:!0})=>{for(const f in t){const d=t[f];if(d){const{_f:u,...x}=d;if(u){const j=y.array.has(u.name),R=await Ze(d,n,C,r.shouldUseNativeValidation&&!a,j);if(R[u.name]&&(c.valid=!1,a))break;!a&&(m(R,u.name)?j?Qs(s.errors,R,u.name):V(s.errors,u.name,R[u.name]):L(s.errors,u.name))}x&&await B(x,a,c)}}return c.valid},ye=()=>{for(const t of y.unMount){const a=m(l,t);a&&(a._f.refs?a._f.refs.every(c=>!Ee(c)):!Ee(a._f.ref))&&_e(t)}y.unMount=new Set},v=(t,a)=>(t&&a&&V(n,t,a),!se(Me(),o)),p=(t,a,c)=>zs(t,y,{...h.mount?n:A(a)?o:G(t)?{[t]:a}:a},c,a),E=t=>me(m(h.mount?n:o,t,e.shouldUnregister?m(o,t,[]):[])),T=(t,a,c={})=>{const f=m(l,t);let d=a;if(f){const u=f._f;u&&(!u.disabled&&V(n,t,os(a,u)),d=pe(u.ref)&&O(a)?"":a,ls(u.ref)?[...u.ref.options].forEach(x=>x.selected=d.includes(x.value)):u.refs?he(u.ref)?u.refs.length>1?u.refs.forEach(x=>(!x.defaultChecked||!x.disabled)&&(x.checked=Array.isArray(d)?!!d.find(j=>j===x.value):d===x.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(x=>x.checked=x.value===d):Le(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||g.values.next({name:t,values:{...n}})))}(c.shouldDirty||c.shouldTouch)&&te(t,d,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&ue(t)},Q=(t,a,c)=>{for(const f in a){const d=a[f],u=`${t}.${f}`,x=m(l,u);(y.array.has(t)||!Ne(d)||x&&!x._f)&&!le(d)?Q(u,d,c):T(u,d,c)}},$=(t,a,c={})=>{const f=m(l,t),d=y.array.has(t),u=H(a);V(n,t,u),d?(g.array.next({name:t,values:{...n}}),(N.isDirty||N.dirtyFields)&&c.shouldDirty&&g.state.next({name:t,dirtyFields:ve(o,n),isDirty:v(t,u)})):f&&!f._f&&!O(u)?Q(t,u,c):T(t,u,c),Ke(t,y)&&g.state.next({...s}),g.values.next({name:h.mount?t:void 0,values:{...n}})},ce=async t=>{const a=t.target;let c=a.name,f=!0;const d=m(l,c),u=()=>a.type?ke(d._f):Os(t),x=j=>{f=Number.isNaN(j)||j===m(n,c,j)};if(d){let j,R;const I=u(),ae=t.type===We.BLUR||t.type===We.FOCUS_OUT,xs=!Zs(d._f)&&!r.resolver&&!m(s.errors,c)&&!d._f.deps||et(ae,m(s.touchedFields,c),s.isSubmitted,M,P),Ae=Ke(c,y,ae);V(n,c,I),ae?(d._f.onBlur&&d._f.onBlur(t),S&&S(0)):d._f.onChange&&d._f.onChange(t);const Fe=te(c,I,ae,!1),ys=!W(Fe)||Ae;if(!ae&&g.values.next({name:c,type:t.type,values:{...n}}),xs)return N.isValid&&q(),ys&&g.state.next({name:c,...Ae?{}:Fe});if(!ae&&Ae&&g.state.next({...s}),J(!0,[c]),r.resolver){const{errors:He}=await ee([c]);if(x(I),f){const gs=es(s.errors,l,c),ze=es(He,l,gs.name||c);j=ze.error,c=ze.name,R=W(He)}}else j=(await Ze(d,n,C,r.shouldUseNativeValidation))[c],x(I),f&&(j?R=!1:N.isValid&&(R=await B(l,!0)));f&&(d._f.deps&&ue(d._f.deps),xe(c,R,j,Fe))}},oe=(t,a)=>{if(m(s.errors,a)&&t.focus)return t.focus(),1},ue=async(t,a={})=>{let c,f;const d=Se(t);if(J(!0,d),r.resolver){const u=await re(A(t)?t:d);c=W(u),f=t?!d.some(x=>m(u,x)):c}else t?(f=(await Promise.all(d.map(async u=>{const x=m(l,u);return await B(x&&x._f?{[u]:x}:x)}))).every(Boolean),!(!f&&!s.isValid)&&q()):f=c=await B(l);return g.state.next({...!G(t)||N.isValid&&c!==s.isValid?{}:{name:t},...r.resolver||!t?{isValid:c}:{},errors:s.errors,isValidating:!1}),a.shouldFocus&&!f&&fe(l,oe,t?d:y.mount),f},Me=t=>{const a={...o,...h.mount?n:{}};return A(t)?a:G(t)?m(a,t):t.map(c=>m(a,c))},Te=(t,a)=>({invalid:!!m((a||s).errors,t),isDirty:!!m((a||s).dirtyFields,t),isTouched:!!m((a||s).touchedFields,t),isValidating:!!m((a||s).validatingFields,t),error:m((a||s).errors,t)}),ds=t=>{t&&Se(t).forEach(a=>L(s.errors,a)),g.state.next({errors:t?s.errors:{}})},Oe=(t,a,c)=>{const f=(m(l,t,{_f:{}})._f||{}).ref;V(s.errors,t,{...a,ref:f}),g.state.next({name:t,errors:s.errors,isValid:!1}),c&&c.shouldFocus&&f&&f.focus&&f.focus()},fs=(t,a)=>Z(t)?g.values.subscribe({next:c=>t(p(void 0,a),c)}):p(t,a,!0),_e=(t,a={})=>{for(const c of t?Se(t):y.mount)y.mount.delete(c),y.array.delete(c),a.keepValue||(L(l,c),L(n,c)),!a.keepError&&L(s.errors,c),!a.keepDirty&&L(s.dirtyFields,c),!a.keepTouched&&L(s.touchedFields,c),!a.keepIsValidating&&L(s.validatingFields,c),!r.shouldUnregister&&!a.keepDefaultValue&&L(o,c);g.values.next({values:{...n}}),g.state.next({...s,...a.keepDirty?{isDirty:v()}:{}}),!a.keepIsValid&&q()},Pe=({disabled:t,name:a,field:c,fields:f,value:d})=>{if(Y(t)){const u=t?void 0:A(d)?ke(c?c._f:m(f,a)._f):d;V(n,a,u),te(a,u,!1,!1,!0)}},Ve=(t,a={})=>{let c=m(l,t);const f=Y(a.disabled);return V(l,t,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:t}},name:t,mount:!0,...a}}),y.mount.add(t),c?Pe({field:c,disabled:a.disabled,name:t,value:a.value}):D(t,!0,a.value),{...f?{disabled:a.disabled}:{},...r.progressive?{required:!!a.required,min:de(a.min),max:de(a.max),minLength:de(a.minLength),maxLength:de(a.maxLength),pattern:de(a.pattern)}:{},name:t,onChange:ce,onBlur:ce,ref:d=>{if(d){Ve(t,a),c=m(l,t);const u=A(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,x=Js(u),j=c._f.refs||[];if(x?j.find(R=>R===u):u===c._f.ref)return;V(l,t,{_f:{...c._f,...x?{refs:[...j.filter(Ee),u,...Array.isArray(m(o,t))?[{}]:[]],ref:{type:u.type,name:t}}:{ref:u}}}),D(t,!1,void 0,u)}else c=m(l,t,{}),c._f&&(c._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(qs(y.array,t)&&h.action)&&y.unMount.add(t)}}},qe=()=>r.shouldFocusError&&fe(l,oe,y.mount),hs=t=>{Y(t)&&(g.state.next({disabled:t}),fe(l,(a,c)=>{let f=t;const d=m(l,c);d&&Y(d._f.disabled)&&(f||(f=d._f.disabled)),a.disabled=f},0,!1))},Ie=(t,a)=>async c=>{let f;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let d=H(n);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:x}=await ee();s.errors=u,d=x}else await B(l);if(L(s.errors,"root"),W(s.errors)){g.state.next({errors:{}});try{await t(d,c)}catch(u){f=u}}else a&&await a({...s.errors},c),qe(),setTimeout(qe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(s.errors)&&!f,submitCount:s.submitCount+1,errors:s.errors}),f)throw f},ms=(t,a={})=>{m(l,t)&&(A(a.defaultValue)?$(t,H(m(o,t))):($(t,a.defaultValue),V(o,t,H(a.defaultValue))),a.keepTouched||L(s.touchedFields,t),a.keepDirty||(L(s.dirtyFields,t),s.isDirty=a.defaultValue?v(t,H(m(o,t))):v()),a.keepError||(L(s.errors,t),N.isValid&&q()),g.state.next({...s}))},Be=(t,a={})=>{const c=t?H(t):o,f=H(c),d=W(t),u=d?o:f;if(a.keepDefaultValues||(o=c),!a.keepValues){if(a.keepDirtyValues)for(const x of y.mount)m(s.dirtyFields,x)?V(u,x,m(n,x)):$(x,m(u,x));else{if(Ue&&A(t))for(const x of y.mount){const j=m(l,x);if(j&&j._f){const R=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(pe(R)){const I=R.closest("form");if(I){I.reset();break}}}}l={}}n=e.shouldUnregister?a.keepDefaultValues?H(o):{}:H(u),g.array.next({values:{...u}}),g.values.next({values:{...u}})}y={mount:a.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!N.isValid||!!a.keepIsValid||!!a.keepDirtyValues,h.watch=!!e.shouldUnregister,g.state.next({submitCount:a.keepSubmitCount?s.submitCount:0,isDirty:d?!1:a.keepDirty?s.isDirty:!!(a.keepDefaultValues&&!se(t,o)),isSubmitted:a.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:d?[]:a.keepDirtyValues?a.keepDefaultValues&&n?ve(o,n):s.dirtyFields:a.keepDefaultValues&&t?ve(o,t):{},touchedFields:a.keepTouched?s.touchedFields:{},errors:a.keepErrors?s.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(t,a)=>Be(Z(t)?t(n):t,a);return{control:{register:Ve,unregister:_e,getFieldState:Te,handleSubmit:Ie,setError:Oe,_executeSchema:ee,_getWatch:p,_getDirty:v,_updateValid:q,_removeUnmounted:ye,_updateFieldArray:b,_updateDisabledField:Pe,_getFieldArray:E,_reset:Be,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(t=>{$e(t,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:t=>{s={...s,...t}},_disableForm:hs,_subjects:g,_proxyFormState:N,_setErrors:U,get _fields(){return l},get _formValues(){return n},get _state(){return h},set _state(t){h=t},get _defaultValues(){return o},get _names(){return y},set _names(t){y=t},get _formState(){return s},set _formState(t){s=t},get _options(){return r},set _options(t){r={...r,...t}}},trigger:ue,register:Ve,handleSubmit:Ie,watch:fs,setValue:$,getValues:Me,reset:$e,resetField:ms,clearErrors:ds,unregister:_e,setError:Oe,setFocus:(t,a={})=>{const c=m(l,t),f=c&&c._f;if(f){const d=f.refs?f.refs[0]:f.ref;d.focus&&(d.focus(),a.shouldSelect&&d.select())}},getFieldState:Te}}function us(e={}){const r=z.useRef(),s=z.useRef(),[l,o]=z.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...rt(e),formState:l});const n=r.current.control;return n._options=e,Hs({subject:n._subjects.state,next:h=>{$s(h,n._proxyFormState,n._updateFormState,!0)&&o({...n._formState})}}),z.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),z.useEffect(()=>{if(n._proxyFormState.isDirty){const h=n._getDirty();h!==l.isDirty&&n._subjects.state.next({isDirty:h})}},[n,l.isDirty]),z.useEffect(()=>{e.values&&!se(e.values,s.current)?(n._reset(e.values,n._options.resetOptions),s.current=e.values,o(h=>({...h}))):n._resetDefaultValues()},[e.values,n]),z.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),z.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),z.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),r.current.formState=Bs(l,n),r.current}function at({onSuccess:e}){var y,S,k,N;const[r,s]=_.useState(""),{register:l,handleSubmit:o,formState:{errors:n}}=us(),h=async g=>{try{s("");let P=await ss.post("/api/v1/users",g);alert(`password: ${P.data.data.password}`),e()}catch(P){s(P.response.data.message)}};return i.jsxs("form",{onSubmit:o(h),children:[i.jsxs("label",{className:"form-control",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"First Name"})}),i.jsx("input",{type:"text",className:"input input-bordered w-full",...l("name_first",{required:"First name is required",maxLength:{value:25,message:"First name should be 25 characters or less"}})}),i.jsx("div",{className:"text-error text-sm",children:n.name_first&&((y=n.name_first)==null?void 0:y.message)})]}),i.jsxs("label",{className:"form-control",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"Last Name"})}),i.jsx("input",{type:"text",className:"input input-bordered w-full",...l("name_last",{required:"Last name is required",maxLength:{value:25,message:"Last name should be 25 characters or less"}})}),i.jsx("div",{className:"text-error text-sm",children:n.name_last&&((S=n.name_last)==null?void 0:S.message)})]}),i.jsxs("label",{className:"form-control",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"Username"})}),i.jsx("input",{type:"text",className:"input input-bordered w-full",...l("username",{required:"Username is required",maxLength:{value:50,message:"Username shoudl be 50 characters or less"}})}),i.jsx("div",{className:"text-error text-sm",children:n.username&&((k=n.username)==null?void 0:k.message)})]}),i.jsxs("label",{className:"form-control w-full",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"Role"})}),i.jsxs("select",{className:"select select-bordered",...l("role",{required:"Role is required"}),children:[i.jsx("option",{value:"student",children:"Student"}),i.jsx("option",{value:"admin",children:"Admin"})]}),i.jsx("div",{className:"text-error text-sm",children:n.role&&((N=n.role)==null?void 0:N.message)})]}),i.jsxs("label",{className:"form-control pt-4",children:[i.jsx("input",{className:"btn btn-primary",type:"submit"}),i.jsx("div",{className:"text-error text-center pt-2",children:r})]})]})}function it({onSuccess:e,user:r}){var S,k,N,g;if(r===null)return i.jsx("div",{children:"No user defined!"});const[s,l]=_.useState(""),{register:o,handleSubmit:n,formState:{errors:h}}=us(),y=async P=>{try{l("");const M=P;P.username==r.username&&delete M.username,await ss.patch(`/api/v1/users/${r.id}`,M),e()}catch(M){l(M.response.data.message)}};return i.jsxs("form",{onSubmit:n(y),children:[i.jsxs("label",{className:"form-control",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"First Name"})}),i.jsx("input",{type:"text",className:"input input-bordered w-full",defaultValue:r.name_first,...o("name_first",{required:"First name is required",maxLength:{value:25,message:"First name should be 25 characters or less"}})}),i.jsx("div",{className:"text-error text-sm",children:h.name_first&&((S=h.name_first)==null?void 0:S.message)})]}),i.jsxs("label",{className:"form-control",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"Last Name"})}),i.jsx("input",{type:"text",className:"input input-bordered w-full",defaultValue:r.name_last,...o("name_last",{required:"Last name is required",maxLength:{value:25,message:"Last name should be 25 characters or less"}})}),i.jsx("div",{className:"text-error text-sm",children:h.name_last&&((k=h.name_last)==null?void 0:k.message)})]}),i.jsxs("label",{className:"form-control",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"Username"})}),i.jsx("input",{type:"text",className:"input input-bordered w-full",defaultValue:r.username,...o("username",{required:"Username is required",maxLength:{value:50,message:"Username shoudl be 50 characters or less"}})}),i.jsx("div",{className:"text-error text-sm",children:h.username&&((N=h.username)==null?void 0:N.message)})]}),i.jsxs("label",{className:"form-control w-full",children:[i.jsx("div",{className:"label",children:i.jsx("span",{className:"label-text",children:"Role"})}),i.jsxs("select",{className:"select select-bordered",defaultValue:r.role,...o("role",{required:"Role is required"}),children:[i.jsx("option",{value:"student",children:"Student"}),i.jsx("option",{value:"admin",children:"Admin"})]}),i.jsx("div",{className:"text-error text-sm",children:h.role&&((g=h.role)==null?void 0:g.message)})]}),i.jsxs("label",{className:"form-control pt-4",children:[i.jsx("input",{className:"btn btn-primary",type:"submit"}),i.jsx("div",{className:"text-error text-center pt-2",children:s})]})]})}function yt({auth:e}){const r=_.useRef(null),s=_.useRef(null),l=_.useRef(null),o=_.useRef(null),[n,h]=_.useState(null),[y,S]=_.useState(""),k=bs(y,300),[N,g]=_.useState(1),[P,M]=_.useState("asc"),{data:C,mutate:ne,error:q,isLoading:J}=vs(`/api/v1/users?search=${k}&page=${N}&order=${P}`),b=C;return i.jsxs(js,{user:e.user,title:"Users",children:[i.jsx(Ns,{user:e.user,path:["Settings","Users"]}),i.jsxs("div",{className:"flex flex-col space-y-6 overflow-x-auto rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full max-w-xs input-sm",value:y,onChange:w=>S(w.target.value)}),i.jsx("div",{className:"tooltip tooltip-left","data-tip":"Add User",children:i.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{var w;return(w=r.current)==null?void 0:w.showModal()},children:i.jsx(Ts,{className:"h-4"})})})]}),i.jsxs("table",{className:"table",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-gray-600",children:[i.jsxs("th",{className:"flex",children:[i.jsx("span",{children:"Name"}),P=="asc"?i.jsx(ws,{className:"h-4 text-accent cursor-pointer",onClick:()=>M("desc")}):i.jsx(_s,{className:"h-4 text-accent cursor-pointer",onClick:()=>M("asc")})]}),i.jsx("th",{children:"Username"}),i.jsx("th",{children:"Role"}),i.jsx("th",{children:"Activity"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:!J&&!q&&b.data.map(w=>i.jsxs("tr",{className:"border-gray-600",children:[i.jsxs("td",{children:[w.name_first," ",w.name_last]}),i.jsx("td",{children:w.username}),i.jsx("td",{children:w.role}),i.jsx("td",{children:i.jsx("div",{className:"tooltip","data-tip":"User Activity",children:i.jsxs("a",{className:"flex justify-start cursor-pointer",children:[i.jsx("span",{children:"Today"}),i.jsx(ks,{className:"w-4 text-accent"})]})})}),i.jsx("td",{children:i.jsxs("div",{className:"flex space-x-2 text-accent cursor-pointer",children:[i.jsx("div",{className:"tooltip","data-tip":"Edit User",children:i.jsx(Ls,{className:"h-4",onClick:()=>{var U;h(w),(U=s.current)==null||U.showModal()}})}),i.jsx("div",{className:"tooltip","data-tip":"Reset Password",children:i.jsx(Ss,{className:"h-4",onClick:()=>{var U;return(U=l.current)==null?void 0:U.showModal()}})}),i.jsx("div",{className:"tooltip","data-tip":"Delete User",children:i.jsx(Vs,{className:"h-4",onClick:()=>{var U;return(U=o.current)==null?void 0:U.showModal()}})})]})})]},w.id))})]}),!J&&!q&&C.data.length!=0&&i.jsx(ps,{meta:b.meta,setPage:g}),q&&i.jsx("span",{className:"text-center text-error",children:"Failed to load users."}),!J&&!q&&C.data.length==0&&i.jsx("span",{className:"text-center text-warning",children:"No results"})]}),i.jsx("dialog",{ref:r,className:"modal",children:i.jsxs("div",{className:"modal-box",children:[i.jsx("form",{method:"dialog",children:i.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-3xl font-semibold pb-6 text-neutral",children:"Add User"}),i.jsx(at,{onSuccess:()=>{var w;return(w=r.current)==null?void 0:w.close()}})]})]})}),i.jsx("dialog",{ref:s,className:"modal",children:i.jsxs("div",{className:"modal-box",children:[i.jsx("form",{method:"dialog",children:i.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-3xl font-semibold pb-6 text-neutral",children:"Edit User"}),i.jsx(it,{onSuccess:()=>{var w;ne(),(w=s.current)==null||w.close()},user:n})]})]})}),i.jsx("dialog",{ref:l,className:"modal",children:i.jsxs("div",{className:"modal-box",children:[i.jsx("h3",{className:"font-bold text-xl",children:"Reset User's Password?"}),i.jsx("p",{className:"py-4"}),i.jsxs("div",{className:"modal-action",children:[i.jsx("button",{className:"btn btn-warning",children:"Reset"}),i.jsx("form",{method:"dialog",children:i.jsx("button",{className:"btn",children:"Close"})})]})]})}),i.jsx("dialog",{ref:o,className:"modal",children:i.jsxs("div",{className:"modal-box",children:[i.jsx("h3",{className:"font-bold text-xl",children:"Delete User?"}),i.jsx("p",{className:"py-4"}),i.jsxs("div",{className:"modal-action",children:[i.jsx("button",{className:"btn btn-warning",children:"Delete"}),i.jsx("form",{method:"dialog",children:i.jsx("button",{className:"btn",children:"Close"})})]})]})}),i.jsx("div",{className:"toast transition-opacity duration-500 ease-out opacity-0",children:i.jsxs("div",{className:"alert alert-success",children:[i.jsx(ge,{className:"h-6"}),i.jsx("span",{children:"User created!"})]})}),i.jsx("div",{className:"toast transition-opacity duration-500 ease-out opacity-0",children:i.jsxs("div",{className:"alert alert-success",children:[i.jsx(ge,{className:"h-6"}),i.jsx("span",{children:"User updated!"})]})}),i.jsx("div",{className:"toast transition-opacity duration-500 ease-out opacity-0",children:i.jsxs("div",{className:"alert alert-success",children:[i.jsx(ge,{className:"h-6"}),i.jsx("span",{children:"User password reset!"})]})}),i.jsx("div",{className:"toast transition-opacity duration-500 ease-out opacity-0",children:i.jsxs("div",{className:"alert alert-success",children:[i.jsx(ge,{className:"h-6"}),i.jsx("span",{children:"User deleted!"})]})})]})}export{yt as default};
